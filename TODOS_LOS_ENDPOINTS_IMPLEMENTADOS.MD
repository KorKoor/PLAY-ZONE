# üìö DOCUMENTACI√ìN COMPLETA - ENDPOINTS API PLAY-ZONE

## üîê AUTENTICACI√ìN
Todos los endpoints requieren autenticaci√≥n JWT excepto los de registro/login.
Header: `Authorization: Bearer <token>`

## üßë‚Äçüíª AUTENTICACI√ìN Y USUARIOS

### POST /api/v1/auth/register
Registro de nuevo usuario
Body: { alias, email, password }
Response: { success, message, data: { user, token } }

### POST /api/v1/auth/login  
Iniciar sesi√≥n
Body: { email, password }
Response: { success, message, data: { user, token } }

### GET /api/v1/users/:userId
Obtener perfil de usuario
Response: { user: { alias, email, avatarUrl, description, followersCount, followingCount, recentPosts, recentGuides } }

### PUT /api/v1/users/:userId
Actualizar perfil propio
Body: { description, avatarUrl, consoles, genres }
Response: { message, user }

### GET /api/v1/users/search
Buscar usuarios
Query: search, page=1, limit=10, sortBy=alias, sortOrder=asc
Response: { success, users, pagination }

### GET /api/v1/users/active
Obtener usuarios activos
Response: { activeUsers }

### GET /api/v1/users/
Obtener todos los usuarios (admin)
Response: { users }

### PUT /api/v1/users/:userId/follow
Seguir/dejar de seguir usuario
Response: { message, isFollowing, followersCount }

## üìù PUBLICACIONES (POSTS)

### POST /api/v1/posts
Crear nueva publicaci√≥n
Body: { gameTitle, description, rating }
Files: image (opcional)
Response: Post creado con autor poblado

### GET /api/v1/posts/feed
Feed principal de publicaciones
Query: page=1, sortBy=recent|popular
Response: { posts, pagination }

### GET /api/v1/posts/:postId
Obtener publicaci√≥n espec√≠fica
Response: Post con autor, comentarios y estado de like/favorito

### GET /api/v1/posts/search
Buscar publicaciones
Query: q (requerido), page=1, limit=10, sortBy=relevance|date|title, sortOrder=desc
Response: { success, posts, pagination }

### PUT /api/v1/posts/:postId/like
Dar/quitar like a publicaci√≥n
Response: { message, isLiked, likesCount }

### GET /api/v1/posts/:postId/likes
Obtener lista de usuarios que dieron like
Response: { likes }

### PUT /api/v1/posts/:postId/favorite
Marcar/desmarcar como favorito
Response: { message, isFavorite }

### GET /api/v1/posts/:postId/favorite-status
Verificar estado de favorito
Response: { isFavorite }

### POST /api/v1/posts/:postId/comments
Crear comentario en publicaci√≥n
Body: { content }
Response: Comentario creado con autor poblado

### GET /api/v1/posts/:postId/comments
Obtener comentarios de publicaci√≥n
Response: { comments }

## üìñ GU√çAS

### POST /api/v1/guides
Crear nueva gu√≠a
Body: { title, game, description, steps }
Response: Gu√≠a creada con autor poblado

### GET /api/v1/guides
Obtener/buscar gu√≠as
Query: search, category, difficulty, page=1, limit=10, sortBy=date|popularity|title
Response: { success, guides, pagination }

### GET /api/v1/guides/:guideId
Obtener gu√≠a espec√≠fica
Response: Gu√≠a con autor y estado isUseful

### PUT /api/v1/guides/:guideId
Actualizar gu√≠a (solo autor)
Body: { title, game, description, steps }
Response: Gu√≠a actualizada

### DELETE /api/v1/guides/:guideId
Eliminar gu√≠a (solo autor)
Response: { message }

### PUT /api/v1/guides/:guideId/useful
Marcar/desmarcar como √∫til
Response: { message, isUseful, usefulCount }

### POST /api/v1/guides/:guideId/comments
Crear comentario en gu√≠a
Body: { content }
Response: Comentario creado

### GET /api/v1/guides/:guideId/comments
Obtener comentarios de gu√≠a
Response: { comments }

## üéÆ JUEGOS

### GET /api/v1/games
Obtener lista de juegos
Query: page=1, limit=10, category, platform
Response: { games, pagination }

### GET /api/v1/games/:gameId
Obtener juego espec√≠fico
Response: Juego con detalles completos

## üîç B√öSQUEDA GLOBAL

### GET /api/v1/search
B√∫squeda global en todo el contenido
Query: q (requerido), type=all|users|games|posts|guides, category, sortBy=relevance|date|name, sortOrder=desc, page=1, limit=10
Response: { success, query, users: { data, total, totalPages, currentPage }, games: {...}, posts: {...}, guides: {...} }

### GET /api/v1/search/suggestions
Sugerencias de b√∫squeda en tiempo real
Query: q (m√≠n 2 caracteres)
Response: { success, suggestions: [{ type, title, id, subtitle }] }

### GET /api/v1/search/filters
Obtener filtros disponibles
Response: { success, categories, difficulties, genres, platforms }

## üí¨ COMENTARIOS

### GET /api/v1/comments/:commentId
Obtener comentario espec√≠fico
Response: { success, data: { comentario con autor y post/gu√≠a } }

### DELETE /api/v1/comments/:commentId
Eliminar comentario (autor o admin)
Response: { success, message }

## üö® REPORTES

### POST /api/v1/reports
Crear reporte de contenido
Body: { content_id, content_type (post|guide|comment|user), reason, description, additional_info }
Response: { success, message, data: { id, status } }

### GET /api/v1/reports
Obtener reportes (admin)
Query: status=pending|reviewed|resolved|dismissed, content_type, page=1, limit=10
Response: { success, data: { reports con content_data completo, pagination, stats } }

### PUT /api/v1/reports/:reportId/status
Actualizar estado de reporte (admin)
Body: { status, admin_notes, action }
Response: { success, message, data }

### GET /api/v1/reports/check-duplicate
Verificar si usuario ya report√≥ contenido
Query: content_id, content_type
Response: { success, data: { already_reported, report_id, report_status } }

### GET /api/v1/reports/my-reports
Obtener reportes propios del usuario
Query: page=1, limit=10
Response: { success, data, pagination }

## ‚≠ê FAVORITOS

### GET /api/v1/favorites
Obtener favoritos del usuario
Response: { favorites }

## üìÅ ARCHIVOS

### POST /api/v1/upload
Subir archivo
Files: file
Response: { fileUrl }

## üëë ADMINISTRACI√ìN

### GET /api/v1/admin/users
Obtener usuarios (admin)
Response: Lista de usuarios para administraci√≥n

### PUT /api/v1/admin/users/:userId/status
Cambiar estado de usuario (admin)
Body: { status }
Response: { message }

## üìä C√ìDIGOS DE ESTADO

### √âxito
- 200: OK
- 201: Created

### Error Cliente
- 400: Bad Request (datos inv√°lidos)
- 401: Unauthorized (no autenticado)
- 403: Forbidden (sin permisos)
- 404: Not Found
- 409: Conflict (duplicado)
- 429: Too Many Requests

### Error Servidor
- 500: Internal Server Error

## üîß FILTROS Y PAR√ÅMETROS COMUNES

### Paginaci√≥n
- page: N√∫mero de p√°gina (default: 1)
- limit: Elementos por p√°gina (default: 10)

### Ordenamiento
- sortBy: Campo de ordenamiento
- sortOrder: asc | desc

### B√∫squeda
- q: T√©rmino de b√∫squeda (m√≠nimo 2 caracteres)
- search: T√©rmino de b√∫squeda alternativo

### Filtros
- category: Categor√≠a de contenido
- difficulty: Dificultad (beginner|intermediate|advanced|expert)
- type: Tipo de contenido
- status: Estado del contenido

## üåê URL BASE
http://localhost:8000/api/v1

## üìù NOTAS
- Todos los timestamps est√°n en formato ISO 8601
- Los IDs son ObjectId de MongoDB (24 caracteres hex)
- Las respuestas incluyen campo "success": true/false
- Los errores incluyen mensaje descriptivo
- Rate limiting: 10 reportes por d√≠a por usuario
- Archivos soportados: im√°genes (jpg, png, gif, webp)
- Tama√±o m√°ximo de archivo: 5MB