/* src/components/admin/UsersTable.css */

/* ========================================================= */
/* === VARIABLES DINÁMICAS (Usan variables globales) === */
:root {
    --card-bg: var(--color-card, #ffffff);
    --text-color: var(--color-text-base, #1f2937);
    --text-secondary: var(--color-text-secondary, #6b7280);
    --border-color: var(--color-border, #e5e7eb);
    --bg-light-secondary: var(--color-bg-light-secondary, #f9fafb);
    --color-primary: #4f46e5;
    /* Colores específicos de tabla */
    --color-banned-row: #fef2f2;
    --color-banned-row-hover: #fee2e2;
}

.dark-mode {
    --bg-light-secondary: var(--color-card-darker, #111827);
    --color-banned-row: #3f1919; /* Fondo oscuro para baneo */
    --color-banned-row-hover: #502121; /* Hover más oscuro */
}

/* ========================================================= */
/* === TABLA BASE === */

.users-table-wrapper {
    width: 100%;
}

.table-responsive {
    overflow-x: auto;
    max-width: 100%;
}

.users-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
    background: var(--card-bg); /* Dinámico */
    color: var(--text-color); /* Dinámico */
}

    .users-table th,
    .users-table td {
        padding: 1rem 0.75rem;
        text-align: left;
        border-bottom: 1px solid var(--border-color); /* Dinámico */
        vertical-align: middle;
    }

    .users-table th {
        background: var(--bg-light-secondary); /* Dinámico */
        color: var(--text-color); /* Dinámico */
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        position: sticky;
        top: 0;
        z-index: 1;
    }

    .users-table tbody tr {
        transition: background-color 0.2s ease;
    }

        .users-table tbody tr:hover {
            background: var(--bg-light-secondary); /* Dinámico */
        }

        /* Fila de Usuario Baneado */
        .users-table tbody tr.banned-user {
            background: var(--color-banned-row); /* Dinámico */
            opacity: 0.8; /* Atenuar un poco la fila */
        }

            .users-table tbody tr.banned-user:hover {
                background: var(--color-banned-row-hover); /* Dinámico */
                opacity: 1;
            }

/* ========================================================= */
/* === COLUMNAS DE DATOS === */

/* User Info Column */
.user-avatar {
    border: 2px solid var(--border-color); /* Dinámico */
}

    .user-avatar:hover {
        border-color: var(--color-primary); /* Dinámico */
    }

.user-name {
    font-weight: 600;
    color: var(--text-color); /* Dinámico */
}

.user-alias {
    color: var(--text-secondary); /* Dinámico */
}

/* Email Column */
.user-email {
    color: var(--text-color); /* Dinámico */
}

/* Role Column */
.role-select {
    padding: 0.25rem 0.5rem;
    border: 1px solid var(--border-color); /* Dinámico */
    background: var(--input-bg, white); /* Dinámico */
    color: var(--text-color); /* Dinámico */
}

    .role-select:focus {
        outline: none;
        border-color: var(--color-primary); /* Primario */
    }

/* === Role Badges === */

.role-badge {
    font-weight: 600;
}

    .role-badge.admin {
        /* Mantener degradado primario para Admin */
        background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
        color: white;
    }

    .role-badge.user {
        /* Usar colores de fondo neutro/éxito */
        background: var(--color-success-light, #d1fae5);
        color: var(--color-success-dark, #065f46);
    }

.dark-mode .role-badge.user {
    background: var(--color-success-darker, #064e3b);
    color: var(--color-success-lightest, #a7f3d0);
}

/* === Status Badges === */

.status-badge.active {
    background: var(--color-success-light, #d1fae5);
    color: var(--color-success-dark, #065f46);
}

.dark-mode .status-badge.active {
    background: var(--color-success-darker, #064e3b);
    color: var(--color-success-lightest, #a7f3d0);
}

.status-badge.banned {
    background: var(--color-danger-light, #fee2e2);
    color: var(--color-danger-dark, #991b1b);
}

.dark-mode .status-badge.banned {
    background: var(--color-danger-darker, #450a0a);
    color: var(--color-danger-lightest, #fca5a5);
}

.ban-reason {
    color: var(--text-secondary); /* Dinámico */
}

/* Join Date Column */
.join-date {
    color: var(--text-secondary); /* Dinámico */
}

/* ========================================================= */
/* === BOTONES DE ACCIÓN === */

.action-btn {
    border: 1px solid transparent; /* Para evitar saltos de layout al hacer hover */
}

    .action-btn:hover:not(:disabled) {
        transform: translateY(-1px);
    }

    /* View Button (Neutro/Primario) */
    .action-btn.view {
        background: var(--bg-light-secondary); /* Dinámico */
        color: var(--text-color); /* Dinámico */
    }

        .action-btn.view:hover:not(:disabled) {
            background: var(--border-color); /* Dinámico */
            color: var(--text-color);
        }

    /* Ban Button (Warning/Orange) */
    .action-btn.ban {
        background: var(--color-warning-light, #fef3c7);
        color: var(--color-warning-dark, #92400e);
    }

        .action-btn.ban:hover:not(:disabled) {
            background: var(--color-warning, #fde68a);
            color: var(--color-warning-darker, #78350f);
        }

    /* Unban Button (Success/Green) */
    .action-btn.unban {
        background: var(--color-success-light, #d1fae5);
        color: var(--color-success-dark, #065f46);
    }

        .action-btn.unban:hover:not(:disabled) {
            background: var(--color-success, #a7f3d0);
            color: var(--color-success-darker, #047857);
        }

    /* Delete Button (Danger/Red) */
    .action-btn.delete {
        background: var(--color-danger-light, #fee2e2);
        color: var(--color-danger-dark, #991b1b);
    }

        .action-btn.delete:hover:not(:disabled) {
            background: var(--color-danger, #fecaca);
            color: var(--color-danger-darker, #7f1d1d);
        }

/* Loading Spinner */
.loading-dot {
    border: 2px solid var(--border-color); /* Dinámico */
    border-top: 2px solid var(--color-primary); /* Primario */
}

/* No Users Message */
.no-users-message {
    text-align: center;
    color: var(--text-secondary); /* Dinámico */
    font-style: italic;
    padding: 3rem;
}

/* ========================================================= */
/* === RESPONSIVE === */

@media (max-width: 1024px) {
    .users-table th,
    .users-table td {
        padding: 0.75rem 0.5rem;
    }

    .user-info {
        gap: 0.5rem;
    }

    .user-avatar {
        width: 32px;
        height: 32px;
    }

    .action-buttons {
        flex-wrap: wrap;
        gap: 0.25rem;
    }

    .action-btn {
        width: 28px;
        height: 28px;
        font-size: 0.8rem;
    }
}

@media (max-width: 768px) {
    .users-table {
        font-size: 0.8rem;
    }

    .role-badge,
    .status-badge {
        font-size: 0.7rem;
        padding: 0.2rem 0.5rem;
    }

    /* Ocultar la Columna de Fecha de Unión en móviles pequeños */
    .users-table th:nth-child(5),
    .users-table td:nth-child(5) {
        display: none;
    }
}

@media (max-width: 480px) {
    /* Ocultar la Columna de Email en móviles muy pequeños */
    .users-table th:nth-child(2),
    .users-table td:nth-child(2) {
        display: none;
    }

    .action-buttons {
        flex-direction: column;
        gap: 0.25rem;
        align-items: flex-end; /* Alinear acciones a la derecha */
    }
}
