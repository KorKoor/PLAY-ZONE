/* src/styles/PostCard.css */

/* Variables de contexto para Posts (Asegurar coherencia con ProfileStyles.css) */
/*
    Asumiendo que estas variables están definidas globalmente en un archivo como GlobalStyles.css
    Si no, se deberían definir aquí o importar de donde estén.
    Para asegurar que las propiedades se apliquen correctamente, las redefiniré aquí temporalmente
    si no hay una fuente global clara, o usaré valores fallback.
*/
:root {
    --color-card: #28374E;
    --color-border: #3D4A66;
    --color-primary: #00C6FF;
    --color-primary-rgb: 0, 198, 255;
    --color-danger: #E53E3E;
    --color-secondary: #4A5C7F;
    --color-input-bg: #141D2B;
    --color-text-light: #E0E7FF;
    --color-text-secondary: #9FAACF;
    --shadow-post-card: 0 8px 20px rgba(0, 0, 0, 0.6);
    --shadow-post-card-hover: 0 15px 30px rgba(0, 0, 0, 0.8), 0 0 10px rgba(var(--color-primary-rgb), 0.2);
    --color-secondary-rgb: 74, 92, 127; /* Added this line */
}


.post-card {
    background-color: var(--color-card);
    border-radius: 16px; /* Coherente con perfil (más suave) */
    padding: 30px; /* Más padding para airear */
    margin-bottom: 40px;
    box-shadow: var(--shadow-post-card);
    border: 2px solid var(--color-border); /* Borde más definido */
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    display: flex; /* Usar flexbox para mejor control del layout interno */
    flex-direction: column;
    overflow: hidden; /* Asegurar que el contenido no se desborde */
}

    .post-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-post-card-hover);
    }

/* === Encabezado y Autor === */
.post-header {
    display: flex;
    align-items: center;
    gap: 15px; /* Ajuste el espacio para un look más compacto pero aireado */
    margin-bottom: 20px; /* Un poco menos de margen */
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(var(--color-border), 0.3); /* Separador sutil */
}

.author-avatar {
    width: 50px; /* Ligeramente más pequeño para mejor integración */
    height: 50px;
    border-radius: 50%; /* Asegurar que es redondo */
    border: 3px solid var(--color-primary); /* Borde más grueso y vibrante */
    box-shadow: 0 0 8px rgba(var(--color-primary-rgb), 0.4);
    cursor: pointer;
    object-fit: cover; /* Asegurar que la imagen del avatar se vea bien */
    flex-shrink: 0; /* Evitar que el avatar se encoja */
}

    .author-avatar:hover {
        border-color: var(--color-text-light);
    }

.author-info {
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Permite que ocupe el espacio disponible */
}

.author-alias {
    font-weight: 700;
    color: var(--color-text-light);
    font-size: 1.1rem; /* Ligeramente más pequeño */
    letter-spacing: 0.5px;
    cursor: pointer;
    white-space: nowrap; /* Evita que el alias se rompa */
    overflow: hidden;
    text-overflow: ellipsis; /* Añade puntos suspensivos si el alias es muy largo */
}

.post-date {
    font-size: 0.85rem; /* Ligeramente más pequeño */
    color: var(--color-text-secondary);
    display: flex; /* Para alinear el icono con el texto */
    align-items: center;
    gap: 5px;
}

/* Opciones de Autor (Botones de icono) */
.post-options {
    margin-left: auto;
    display: flex; /* Para alinear los botones */
    gap: 10px; /* Espacio entre los botones de opción */
}

.btn-icon {
    background: none;
    border: none;
    color: var(--color-text-secondary);
    font-size: 1rem; /* Ajuste el tamaño del icono */
    cursor: pointer;
    transition: color 0.2s ease, transform 0.2s ease;
    padding: 5px; /* Añade padding para hacerlos más clickeables */
    border-radius: 5px; /* Suave redondeo */
}

    .btn-icon:hover {
        color: var(--color-primary);
        transform: scale(1.1);
        background-color: rgba(var(--color-primary-rgb), 0.1); /* Ligero fondo al hacer hover */
    }

.delete-btn:hover {
    color: var(--color-danger);
    background-color: rgba(229, 62, 62, 0.1); /* Fondo rojo para eliminar */
}

/* === Contenido === */
.post-content {
    margin-bottom: 25px; /* Espacio después del contenido */
}

.game-title {
    font-size: 1.6rem; /* Título un poco más compacto */
    color: var(--color-text-light);
    margin-bottom: 10px; /* Menos margen */
    font-weight: 800;
    line-height: 1.3; /* Mejorar legibilidad */
}

.post-image {
    width: 100%;
    max-height: 400px; /* Ligeramente menos alto */
    border-radius: 10px;
    margin-bottom: 18px; /* Ajuste el margen */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    object-fit: cover; /* Asegurar que la imagen cubra el área sin distorsionarse */
}

.post-description {
    color: var(--color-text-secondary);
    line-height: 1.6; /* Mejorar legibilidad */
    font-size: 1rem; /* Ajuste el tamaño de la fuente */
    margin-bottom: 0; /* No hay margen inferior si es el último elemento del content */
}

/* === Calificación y Estadísticas === */
.post-stats {
    padding: 18px 0; /* Ajuste el padding */
    border-top: 1px solid rgba(var(--color-border), 0.4); /* Separador más sutil */
    border-bottom: 1px solid rgba(var(--color-border), 0.4);
    display: flex;
    justify-content: space-between; /* Espacia las estrellas y los contadores */
    align-items: center;
    margin-bottom: 20px; /* Margen después de las estadísticas */
}

/* Estrellas */
.post-rating {
    font-size: 1.3rem; /* Estrellas un poco más pequeñas */
    display: flex;
    gap: 3px; /* Espacio entre estrellas */
}

.star.active {
    color: #FFD700; /* Dorado brillante */
    text-shadow: 0 0 6px rgba(255, 215, 0, 0.7); /* Glow para las estrellas */
}

.star.inactive {
    color: var(--color-text-secondary); /* Color para estrellas no activas */
    opacity: 0.4;
}

/* Contadores */
.interaction-counts {
    display: flex;
    gap: 20px; /* Espacio entre el contador de likes y comentarios */
}

.count-item {
    font-size: 0.95rem; /* Ajuste el tamaño de la fuente */
    color: var(--color-text-secondary);
    display: flex;
    align-items: center;
    gap: 5px;
    cursor: pointer;
    transition: color 0.2s ease;
}

    .count-item:hover {
        color: var(--color-primary);
    }

.icon-heart {
    color: var(--color-danger);
}

/* === Acciones (Footer) === */
.post-actions {
    padding-top: 15px;
    display: flex;
    justify-content: space-around; /* Distribuye los botones equitativamente */
    gap: 10px; /* Espacio entre botones */
    flex-wrap: wrap; /* Permite que los botones se envuelvan en pantallas pequeñas */
}

.btn-action {
    flex-grow: 1; /* Permite que los botones se expandan */
    flex-basis: 0; /* Punto base para la expansión */
    min-width: 120px; /* Ancho mínimo para cada botón */
    padding: 10px 15px; /* Botones más compactos */
    font-weight: 600; /* Ligeramente menos bold */
    font-size: 0.95rem;
    border-radius: 8px; /* Un poco menos redondeado */
    transition: all 0.2s ease-in-out;
    background-color: var(--color-primary); /* Color de fondo por defecto para acciones (igual que seguir) */
    color: black;
    border: 1px solid var(--color-primary); /* Borde con color primario */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

    .btn-action:hover {
        background-color: var(--color-primary-dark);
        color: black;
        /* border-color: var(--color-secondary); Removing border-color change on hover to match follow button */
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 4px 10px rgba(var(--color-secondary-rgb), 0.3);
    }

    .btn-action:active {
        background-color: var(--color-primary-dark);
        transform: translateY(-1px) scale(1.01);
    }

/* Estilos de estado de interaccion */
.btn-like.liked {
    color: #FF66A3; /* Rosa Suave/Vibrante para LIKE */
    text-shadow: 0 0 5px rgba(255, 102, 163, 0.8);
    background-color: rgba(255, 102, 163, 0.1); /* Fondo sutil cuando está liked */
    border-color: #FF66A3;
}

.btn-favorite.favorited {
    color: #FFD700;
    text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
    background-color: rgba(255, 215, 0, 0.1); /* Fondo sutil cuando está favoriteado */
    border-color: #FFD700;
}


/* ----------------------------------------------------------
 * LISTADO DE LIKES & COMENTARIOS (Dropdowns)
 * ---------------------------------------------------------- */
.like-list-wrapper,
.comments-dropdown-wrapper {
    margin-top: 25px; /* Un poco más de margen superior */
    padding-top: 25px;
    border-top: 1px solid rgba(var(--color-border), 0.4);
}

.like-list-dropdown {
    background-color: var(--color-input-bg);
    border: 1px solid var(--color-primary); /* Borde más sutil */
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.7); /* Sombra ligeramente más suave */
    border-radius: 12px; /* Coherente con el post-card */
    overflow: hidden; /* Asegurar que el contenido respeta el borde */
}

    .like-list-dropdown li {
        padding: 10px 15px; /* Ajuste el padding */
        transition: background-color 0.2s ease;
    }

    .like-list-dropdown li:hover {
        background-color: rgba(var(--color-primary-rgb), 0.1); /* Fondo de hover más sutil */
    }

.like-user-avatar {
    border: 2px solid var(--color-primary); /* Borde de acento al avatar en el dropdown */
}

/* Default Avatar SVG styling */
.author-avatar svg {
    width: 100%;
    height: 100%;
    color: var(--color-text-secondary); /* Color del icono de avatar por defecto */
    background-color: var(--color-input-bg); /* Fondo para el avatar por defecto */
    border-radius: 50%;
}